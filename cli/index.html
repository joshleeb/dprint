<!DOCTYPE html><html lang="en"><head><script async src="/scripts.js"></script><meta charset="utf-8"><title>CLI - dprint - Code Formatter</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#000000"><meta name="description" content="Documentation on dprint's command-line interface (CLI)."><meta name="author" content="Dprint Code Formatting"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@dprintfmt"><meta name="twitter:title" content="CLI"><meta name="twitter:description" content="Documentation on dprint's command-line interface (CLI)."><link rel="stylesheet" href="/style.css"></head><body><nav class="navbar" role="navigation" aria-label="main navigation"><div class="navbar-brand"><h1 class="title"><a href="/">dprint</a></h1><a role="button" id="navbarBurger" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarLinks"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a></div><div class="navbar-menu" id="navbarLinks"><div class="navbar-end"><a class="navbar-item" href="/overview">Overview</a> <a class="navbar-item" href="/playground">Playground</a> <a class="navbar-item" href="/sponsor">Sponsor</a> <a class="navbar-item" href="https://github.com/dprint/dprint" rel="noopener noreferrer">View on GitHub</a></div></div></nav><section class="section" id="content"><div class="columns"><aside class="menu column is-narrow" style="width: 210px"><p class="menu-label"><a href="/overview">Overview</a></p><ul class="menu-list"><li><a href="/install">Install</a></li><li><a href="/setup">Setup</a></li><li><a href="/config">Configuration</a></li><li><a href="/cli">CLI</a></li><li><a href="/ci">Continuous Integration</a></li></ul><p class="menu-label"><a href="/plugins">Plugins</a></p><ul class="menu-list"><li><a href="/plugins/typescript">TypeScript / JavaScript</a></li><li><a href="/plugins/json">JSON</a></li><li><a href="/plugins/markdown">Markdown</a></li><li><a href="/plugins/toml">TOML</a></li><li><a href="/plugins/dockerfile">Dockerfile</a></li><li><a href="/plugins/rustfmt">Rustfmt</a></li><li><a href="/plugins/roslyn">Roslyn (C#/VB)</a></li><li><a href="/plugins/prettier">Prettier</a></li><li><a href="/plugins/yapf">YAPF (Python)</a></li><li><a href="/plugin-dev">Creating a Plugin</a></li></ul></aside><div id="content-body" class="column documentation"><h1 id="command-line-interface-cli">Command Line Interface (CLI)</h1><pre><code class="bash language-bash">dprint &lt;SUBCOMMAND&gt; [OPTIONS] [--] [files]...</code></pre><h2 id="installing-and-setupinitialization">Installing and Setup/Initialization</h2><p>See <a href="/install">Install</a> and <a href="/setup">Setup</a>.</p><h2 id="help">Help</h2><p>The information outlined here will only be for the latest version, so <code>dprint help</code> or <code>dprint help &lt;SUBCOMMAND&gt;</code> (ex. <code>dprint help fmt</code>) will output information on how to use the CLI and give more detail about some of the flags not mentioned here.</p><h2 id="formatting-files">Formatting Files</h2><p>After <a href="/setup">setting up a configuration file</a>, run the <code>fmt</code> command:</p><pre><code class="bash language-bash">dprint fmt</code></pre><p>Or to override the configuration file's <code>includes</code> and <code>excludes</code>, you may specify the file paths to format or not format here:</p><pre><code class="bash language-bash">dprint fmt **/*.js --excludes **/data</code></pre><h3 id="formatting-standard-input">Formatting Standard Input</h3><p>Use <code>dprint fmt --stdin &lt;file-path/file-name/extension&gt;</code> and provide the input file text to stdin. The output will be directed by the CLI to stdout.</p><p>Provide a full file path to format with inclusion/exclusion rules of your dprint configuration file or provide only a file name or extension to always format the file.</p><h2 id="checking-what-files-arent-formatted">Checking What Files Aren't Formatted</h2><p>Instead of formatting files, you can get a report of any files that aren't formatted by running:</p><pre><code class="bash language-bash">dprint check</code></pre><p>Example output:</p><p><img src="/images/check-example.png" alt="Example of dprint check output." title="Example of dprint check output."></p><h2 id="incremental-formatting">Incremental Formatting</h2><p>You may specify to only format files that have changed since the last time you formatted the code using the <code>--incremental</code> flag:</p><pre><code class="bash language-bash">dprint fmt --incremental</code></pre><p>Alternatively, you may specify this in the dprint configuration file (recommended):</p><pre><code class="jsonc language-jsonc"><span class="hljs-punctuation">{</span>
  <span class="hljs-comment">// etc...</span>
  <span class="hljs-attr">&quot;incremental&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span>
  <span class="hljs-comment">// etc...</span>
<span class="hljs-punctuation">}</span></code></pre><p>Doing this will drastically improve performance.</p><h2 id="using-a-custom-config-file-path-or-url">Using a Custom Config File Path or URL</h2><p>Instead of the default dprint configuration paths you may specify a path to a configuration file via the <code>--config</code> or <code>-c</code> flag.</p><pre><code class="bash language-bash">dprint fmt --config path/to/my/config.json
<span class="hljs-comment"># or specify a URL</span>
dprint fmt --config https://dprint.dev/path/to/some/config.json</code></pre><p>This flag is more useful for one-off commands. It is recommended to use the default configuration file location and name as that will lead to a better user experience.</p><h2 id="diagnostic-commands-and-flags">Diagnostic Commands and Flags</h2><h3 id="outputting-file-paths">Outputting file paths</h3><p>Sometimes you may not be sure what files dprint is picking up and formatting. To check, use the <code>output-file-paths</code> subcommand to see all the resolved file paths for the current plugins based on the CLI arguments and configuration.</p><pre><code class="bash language-bash">dprint output-file-paths</code></pre><p>Example output:</p><pre><code class="bash language-bash">C:\dev\my-project\scripts\build-homepage.js
C:\dev\my-project\scripts\build-schemas.js
C:\dev\my-project\website\playground\config-overrides.js
C:\dev\my-project\website\playground\src\components\ExternalLink.tsx
C:\dev\my-project\website\playground\src\components\index.ts
C:\dev\my-project\website\playground\src\components\Spinner.tsx
...etc...</code></pre><h3 id="outputting-resolved-configuration">Outputting resolved configuration</h3><p>When diagnosing configuration issues it might be useful to find out what the internal lower level configuration used by the plugins is. To see that, use the following command:</p><pre><code class="bash language-bash">dprint output-resolved-config</code></pre><p>Example output (JSON):</p><pre><code class="json language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;typescript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;arguments.preferHanging&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;arguments.preferSingleLine&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;arguments.trailingCommas&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlyMultiLine&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;arrayExpression.preferHanging&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;arrayExpression.preferSingleLine&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;arrayExpression.trailingCommas&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlyMultiLine&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;arrayPattern.preferHanging&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// ...etc...</span>
    <span class="hljs-attr">&quot;whileStatement.singleBodyPosition&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;nextLine&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;whileStatement.spaceAfterWhileKeyword&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;whileStatement.useBraces&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;preferNone&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;json&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;commentLine.forceSpaceAfterSlashes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;indentWidth&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lineWidth&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">160</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;newLineKind&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;lf&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;useTabs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span></code></pre><h3 id="outputting-format-times">Outputting format times</h3><p>It can be useful to know what files take a long time to format as you may consider skipping them. To see this information, use the following command:</p><pre><code class="bash language-bash">dprint output-format-times</code></pre><p>Example output:</p><pre><code class="text language-text">0ms - C:\dev\my-project\dprint.json
0ms - C:\dev\my-project\README.md
1ms - C:\dev\my-project\other-file.md
2ms - C:\dev\my-project\package.json
2ms - C:\dev\my-project\my-markdown-file.md
4ms - C:\dev\my-project\test.ts
5ms - C:\dev\my-project\docs\info.md
16ms - C:\dev\my-project\my-file.ts
46ms - C:\dev\my-project\docs\overview.md
54ms - C:\dev\my-project\build.js</code></pre><h3 id="verbose">Verbose</h3><p>It is sometimes useful to see what's going on under the hood. For those cases, run dprint with the <code>--verbose</code> flag.</p><p>For example:</p><pre><code class="bash language-bash">dprint check --verbose</code></pre><p>Example output:</p><pre><code class="text language-text">[VERBOSE]: Getting cache directory.
[VERBOSE]: Reading file: C:\Users\user\AppData\Local\Dprint\Dprint\cache\cache-manifest.json
[VERBOSE]: Checking path exists: ./dprint.json
[VERBOSE]: Reading file: V:\dev\my-project\dprint.json
[VERBOSE]: Globbing: [&quot;**/*.{ts,tsx,js,jsx,json}&quot;, &quot;!website/playground/build&quot;, &quot;!scripts/build-website&quot;, &quot;!**/dist&quot;, &quot;!**/target&quot;, &quot;!**/wasm&quot;, &quot;!**/*-lock.json&quot;, &quot;!**/node_modules&quot;]
[VERBOSE]: Finished globbing in 12ms
[VERBOSE]: Reading file: C:\Users\user\AppData\Local\Dprint\Dprint\cache\typescript-0.19.2.compiled_wasm
[VERBOSE]: Reading file: C:\Users\user\AppData\Local\Dprint\Dprint\cache\json-0.4.1.compiled_wasm
[VERBOSE]: Creating instance of dprint-plugin-typescript
[VERBOSE]: Creating instance of dprint-plugin-jsonc
[VERBOSE]: Created instance of dprint-plugin-jsonc in 9ms
[VERBOSE]: Reading file: V:\dev\my-project\website\playground\tsconfig.json
[VERBOSE]: Reading file: V:\dev\my-project\website\assets\schemas\v0.json
[VERBOSE]: Reading file: V:\dev\my-project\dprint.json
[VERBOSE]: Formatted file: V:\dev\my-project\website\assets\schemas\v0.json in 2ms
[VERBOSE]: Formatted file: V:\dev\my-project\dprint.json in 0ms
[VERBOSE]: Formatted file: V:\dev\my-project\website\playground\tsconfig.json in 0ms
[VERBOSE]: Created instance of dprint-plugin-typescript in 35ms
[VERBOSE]: Reading file: V:\dev\my-project\website\playground\public\formatter.worker.js
[VERBOSE]: Reading file: V:\dev\my-project\website\assets\formatter\v1.js
[VERBOSE]: Reading file: V:\dev\my-project\website\playground\src\plugins\getPluginInfo.ts
[VERBOSE]: Formatted file: V:\dev\my-project\website\playground\public\formatter.worker.js in 22ms
[VERBOSE]: Formatted file: V:\dev\my-project\website\assets\formatter\v1.js in 6ms
[VERBOSE]: Formatted file: V:\dev\my-project\website\playground\src\plugins\getPluginInfo.ts in 4ms
...etc....</code></pre><p>This may be useful for finding files that are taking a long time to format and maybe should be excluded from formatting.</p><h3 id="clearing-cache">Clearing Cache</h3><p>Internally, a cache is used to avoid re-downloading files. It may be useful in some scenarios to clear this cache by running:</p><pre><code class="bash language-bash">dprint clear-cache</code></pre></div></div></section><footer class="footer"><div><div class="level"><div class="level-left"><p class="level-item"><a href="/">Home</a></p><p class="level-item"><a href="/contact">Contact Us</a></p></div><div class="level-right"><p class="level-item"><a href="https://twitter.com/dprintfmt">Twitter</a></p><p class="level-item"><a href="https://github.com/dprint">GitHub</a></p></div></div></div></footer></body></html>